<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">

  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
  <link rel="icon" href="favicon.ico" type="image/x-icon">

  <meta http-equiv="Content-Security-Policy" content="
    default-src 'self' data: file: gap: ms-appdata: https://ssl.gstatic.com https://developers.google.com https://ssl.gstatic.com https://maps.googleapis.com https://stackpath.bootstrapcdn.com https://cdnjs.cloudflare.com https://cdnjs.cloudflare.com https://use.fontawesome.com https://fonts.gstatic.com https://cmd.autenticacao.gov.pt https://frtend.reg.cmd.autenticacao.gov.pt https://contabo.joaopimentel.com https://www.carrosraros.pt http://www.passeiolivre.org https://www.passeiolivre.org 'unsafe-eval';
    style-src 'self' https://fonts.googleapis.com https://stackpath.bootstrapcdn.com 'unsafe-inline';
    media-src file: *;
    img-src 'self' https://maps.googleapis.com https://maps.gstatic.com https://contabo.joaopimentel.com data: file: content: https://csi.gstatic.com;
    script-src 'self' data: content: file: https://ssl.gstatic.com https://maps.googleapis.com https://developers.google.com https://stackpath.bootstrapcdn.com https://cdnjs.cloudflare.com https://cdnjs.cloudflare.com https://use.fontawesome.com https://cmd.autenticacao.gov.pt https://frtend.reg.cmd.autenticacao.gov.pt https://code.jquery.com
  ">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <link rel="stylesheet" href="css/res/bootstrap.min.css">
  <link rel="stylesheet" href="css/res/jquery-ui.min.css">
  <link rel="stylesheet" href="css/res/font-awesome.min.css">
  <link rel="stylesheet" href="css/sidebar.css">
  <link rel="stylesheet" type="text/css" href="css/main.css">
  <link rel="stylesheet" type="text/css" href="css/res/jAlert.css">

</head>

<body>
  <div class="wrapper">
    <!-- Sidebar  -->
    <nav id="sidebar">

      <ul class="list-unstyled components">

        <li id="form_show" class="mt-3">
          <div><i class="fa fa-paper-plane"></i></div>
          <div><a>Enviar</a></div>
        </li>

        <li id="personal_data_show">
          <div><i class="fa fa-address-card"></i></div>
          <div><a>Os meus dados</a></div>
        </li>

        <li id="historic_show">
          <div><i class="fa fa-history"></i></div>
          <div><a>Histórico</a></div>
        </li>

        <li id="map_section_show">
          <div><i class="fa fa-map"></i></div>
          <div><a>Mapa Geral</a></div>
        </li>

        <li id="legal_basis_show">
          <div><i class="fa fa-gavel"></i></div>
          <div><a>Base legal</a></div>
        </li>

        <li>
          <div class="list">
            <div><i class="fa fa-key"></i></div>
            <div>
              <a href="#pageSubmenuCmd" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">Chave Móvel Digital</a>
              <ul class="collapse list-unstyled" id="pageSubmenuCmd">
                <li id="cmd_how_it_works_show">
                  <a>Como funciona</a>
                </li>
                <li id="cmd_legal_basis_shows">
                  <a>Base legal</a>
                </li>
                <li>
                  <a class="aderir_url" href="">Aderir</a>
                </li>
                <li>
                  <a class="a_minha_area_url">Entrar na minha área</a>
                </li>
                <li>
                  <a class="assinar_pdf_url">Assinar PDF</a>
                </li>
                <li>
                  <a class="app_url">APP para obtenção dos códigos</a>
                </li>
              </ul>
            </div>
          </div>
        </li>

        <li>
          <div class="list">
            <div><i class="fa fa-info-circle"></i></div>
            <div>
              <a href="#pageSubmenuAboutUs" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">Sobre</a>
              <ul class="collapse list-unstyled" id="pageSubmenuAboutUs">
                <li>
                  <a href="">Política de privacidade</a>
                </li>
                <li>
                  <a href="https://github.com/jfoclpf/bike-reporter">O código desta App</a>
                </li>
              </ul>
            </div>
          </div>
        </li>

      </ul>
  </nav>

  <!-- Page Content  -->
  <div id="content">

      <div class="container-fluid section-head d-flex flex-row">
        <div class="p-1">
          <button type="button" id="sidebarCollapse" class="btn btn-dark d-inline-block d-lg-none ml-auto">
            <i class="fa fa-bars"></i>
          </button>
        </div>
        <div class="pl-4 pt-1">
          <span class="h2">Bike Reporter</span>
        </div>
      </div>

      <hr>

      <div id="main_form" class="section">
        <h3>Imagens</h3>
        <div id="image_selector">
          <div class="row">
            <div class="form-group col-xs-12 col-sm-6 col-md-3 img-container">
              <div class="form-group col-xs-12 col-sm-6 col-md-3">
                  <button class="btn btn-primary" id="addImg_1"><i class="fa fa-plus"></i></button>
                  <button class="btn btn-primary" id="remImg_1"><i class="fa fa-minus"></i></button>
              </div>
              <img id="myImg_1" src="" class="col-xs-12">
            </div>
            <div class="form-group col-xs-12 col-sm-6 col-md-3 img-container">
              <div class="form-group col-xs-12 col-sm-6 col-md-3">
                  <button class="btn btn-primary" id="addImg_2"><i class="fa fa-plus"></i></button>
                  <button class="btn btn-primary" id="remImg_2"><i class="fa fa-minus"></i></button>
              </div>
              <img id="myImg_2" src="" class="col-xs-12">
            </div>
            <div class="form-group col-xs-12 col-sm-6 col-md-3 img-container">
              <div class="form-group col-xs-12 col-sm-6 col-md-3">
                  <button class="btn btn-primary" id="addImg_3"><i class="fa fa-plus"></i></button>
                  <button class="btn btn-primary" id="remImg_3"><i class="fa fa-minus"></i></button>
              </div>
              <img id="myImg_3" src="" class="col-xs-12">
            </div>
            <div class="form-group col-xs-12 col-sm-6 col-md-3 img-container">
              <div class="form-group col-xs-12 col-sm-6 col-md-3">
                  <button class="btn btn-primary" id="addImg_4"><i class="fa fa-plus"></i></button>
                  <button class="btn btn-primary" id="remImg_4"><i class="fa fa-minus"></i></button>
              </div>
              <img id="myImg_4" src="" class="col-xs-12">
            </div>
          </div>
        </div>

        <hr>

        <h3>Dados do veículo</h3>
        <div class="row">

          <div class="col-xs-12 col-sm-4 form-group">
            <label for="plate">Matrícula </label>
            <div>Formato Livre <input type="checkbox" id="free_plate"></div>
            <input class="form-control input-lg mandatory" maxlength="8"
                   id="plate" name="Matrícula do veículo" required>
          </div>

          <div class="col-xs-12 col-sm-4 form-group">
            <label for="carmake">Marca</label>
            <input class="form-control input-lg" id="carmake"
                   name="Marca do veículo" placeholder="Opel" type="text">
          </div>

          <div class="col-xs-12 col-sm-4 form-group">
            <label for="carmodel">Modelo</label>
            <input class="form-control input-lg" id="carmodel"
                   name="Modelo do veículo" placeholder="Corsa" type="text">
          </div>
        </div>

        <hr>

        <h3>Data e local</h3>

        <div class="row">
          <div class="col-xs-12 col-md-6 form-group">
              <button class="btn btn-primary ml-2" id="getCurrentAddresBtn"><i class="fa fa-refresh"></i></button>
              <br><br>
              <label for="date">Data </label>
              <input class="form-control input-lg mandatory" type="text" id="date" name="Data" required>
          </div>
          <div class="col-xs-12 col-md-6 form-group">
              <label for="time">Hora</label>
              <input class="form-control input-lg mandatory" id="time" name="Hora" type="time">
          </div>

          <div class="form-group col-xs-12 col-sm-6 col-md-3 ">
              <label for="locality">Concelho ou Localidade da ocorrência</label>
              <p>Caso introduza manualmente, coloque sempre o Concelho</p>
              <input size="35" class="form-control input-lg mandatory"
                     id="locality" name="Localidade da ocorrência" placeholder="Oeiras" type="text" required>
          </div>

          <div class="form-group col-xs-12 col-sm-6 col-md-3 ">
              <label for="street">Local da ocorrência</label>
              <input size="35" class="form-control input-lg mandatory"
                     id="street" name="Local da ocorrência" placeholder="Rua do Ouro" type="text" required>
          </div>

          <div class="form-group col-xs-12 col-sm-6 col-md-3 ">
              <label for="street_number">Junto ao Número</label>
              <input size="4" class="form-control input-lg"
                     id="street_number" name="Número postal do Local da Ocorrência" type="text">
          </div>
         </div>

         <hr>

         <h3>Base legal</h3>

         <div class="row">
            <div class="form-group col-xs-12 col-sm-6 col-md-3 ">
                <label for="penalties">Tipo de Ocorrência</label>
                <select class="form-control input-lg mandatory personal_info"
                        id="penalties" name="Tipo de Ocorrência">
                </select>
            </div>
          </div>

          <hr>

          <h3>Autoridade</h3>

          <div class="row">
            <div class="form-group col-xs-12 col-sm-6 col-md-3 ">
                <p>Esta lista é atualizada em função do Concelho da ocorrência</p>
                <select class="form-control input-lg mandatory personal_info"
                        id="authority" name="Autoridade">
                </select>
            </div>
        </div>

        <hr>
        <button class="btn btn-success" id="generate_message">Gerar texto</button>
      </div>

      <div id="personal_data" class="section collapse">
        <div class="row">
          <div class="col-xs-12 col-sm-3 form-group">
            <label for="name">Nome <u>Completo</u></label>
            <input size="30" id="name" name="O seu Nome Completo" class="form-control input-lg mandatory personal_info" type="text" required>
          </div>
          <div class="col-xs-12 col-sm-2 form-group">
            <label for="id_type">A sua Identificação</label>
            <select class="form-control input-lg personal_info" id="id_type">
              <option>Cartão de Cidadão</option>
              <option>Bilhete de Identidade</option>
              <option>Passaporte</option>
            </select>
          </div>
          <div class="col-xs-12 col-sm-2 form-group">
            <label for="id_number">Número </label>
            <input size="30" id="id_number" name="O seu número de identificação" class="form-control input-lg mandatory personal_info" placeholder="00000000" type="text" required>
          </div>
          <div class="col-xs-12 col-sm-5 form-group">
            <label for="address">A sua Morada </label>
            <input size="30" id="address" name="A sua morada" class="form-control input-lg mandatory personal_info" type="text" required>
          </div>
        </div>

        <div class="row">
          <div class="col-xs-12 col-sm-2 form-group">
            <label for="postal_code">Código Postal</label>
            <input size="10" id="postal_code" name="O seu Código Postal" maxlength="8"
              class="form-control input-lg mandatory personal_info" placeholder="0000-000" type="text" required>
          </div>
          <div class="col-xs-12 col-sm-2 form-group">
            <label for="address_city">Localidade (da sua residência)</label>
            <input size="10" id="address_city" name="A Localidade onde reside" class="form-control input-lg mandatory personal_info" placeholder="Lisboa" type="text" required>
          </div>
        </div>

        <div class="row">
          <div class="col-xs-12 col-sm-2 form-group">
            <button class="btn btn-success" id="save_personal_data"><i class="fa fa-save"></i></button>
          </div>
        </div>
      </div>

      <div id="historic" class="section collapse">
      </div>

      <div id="map_section" class="section collapse">
        <div id="map"></div>
      </div>

      <div id="legal_basis" class="section">
          <h3>Esta App funciona</h3>
          <p class="lead">
            A Polícia confirma que dá seguimento às queixas dos cidadãos por esta via,
            de acordo com o estipulado no n.º 5 do artigo 170.º do Código da Estrada. Em Lisboa por exemplo, entre janeiro e março de 2017,
            em apenas três meses, foram levantados mais de mil autos com esta origem.
          </p>
          <h3>Foto de apenas um carro</h3>
          <p class="lead">
            Para assegurar o dever de imparcialidade por parte da autoridade policial,
            as fotos que enviar deverão conter apenas <b>um</b> veículo ilegalmente estacionado,
            ou seja, o veículo o qual reporta.
          </p>
          <h3>Falso testemunho é crime</h3>
          <p class="lead">
            Ao abrigo do artigo 348.º-A do Código Penal, quem declarar ou atestar falsamente à autoridade pública,
            nomeadamente um agente da autoridade policial no exercício das suas funções,
            é punido com pena de prisão até um ano ou com pena de multa.
          </p>
      </div>

      <div id="cmd_how_it_works" class="section">
        <h3>Adira à Chave Móvel Digital</h3>
        <p class="lead">
          Terá de <a class="aderir_url">aderir</a> ao serviço da Chave Móvel Digital onde associa o seu número de telemóvel à
          sua identidade associada ao Cartão de Cidadão. Pode fazê-lo na internet fazendo uso do seu cartão de cidadão
          e de um leitor de cartões, ou no portal das finanças.
        </p>
        <h3>Ative a assinatura digital</h3>
        <p class="lead">
          Após ter obtido uma Chave Móvel Digital com os respetivos PINs,
          terá de <a class="a_minha_area_url">aceder</a> à sua área da Chave Móvel Digital e ativar a opção
          "Subscrição da Assinatura Digital".
          <img src="img/ativar_a_assinatura_digital.jpeg"></img>
        </p>
        <h3>Assine o PDF gerado</h3>
        <p class="lead">
          A presente APP gera um ficheiro PDF com a denúncia que fica guardado no seu telefone.
          Pode <a class="assinar_pdf_url">assinar esse PDF</a> fazendo uso
          da sua Chave Móvel Digital. Para confirmar a sua identidade durante a assinatura do PDF,
          receberá um código via sms no seu telefone, ou então também pode usar a
          <a class="app_url">APP do Cartão do Cidadão</a> para obter os códigos sem a necessidade de um sms.
        </p>
      </div>

      <div id="cmd_legal_basis" class="section">
        <h4>Base legal da Chave Móvel Digital</h4>
        <p class="lead">
          Caso o PDF tenha anexo o seu certificado digital,
          <b>tal será equivalente, de acordo com a Lei, à sua presenção nas instalações da polícia</b>.
          A Autoridade Nacional de Segurança Rodoviária – ANSR – consigna que os agentes de autoridade,
          mediante denúncia de um cidadão, deverão levantar auto de contraordenação,
          tornando-se necessário recolher os elementos probatórios que sustentem
          formalmente os documentos de denúncia,
          conforme o n.º 3 do artigo 170.º do Código Estrada (CE).
          <br><br>
          Todavia, se esta denúncia for enviada com certificado digital da Chave Móvel Digital,
          tal implica que a presunção de autoria do denunciante é válida,
          de acordo com a <b>alínea b) do n.º 2 do artigo 4.º da Lei n.º 37/2014
          reforçada pela Lei n.º 32/2017 na mesma alínea, número e artigo</b>.
          De acordo com a referida lei, o uso de certificado digital,
          designadamente o constante do cartão de cidadão
          associado à Chave Móvel Digital, para efeitos de presunção de autoria,
          é um meio válido para apresentação de atos jurídicos junto dos serviços do Estado,
          dispensando-se, assim, a assinatura do cidadão e a sua presença física junto
          dos referidos serviços públicos.
          <br><br>
          Ou seja, de acordo com o <b>n.º 1 do artigo 4.º da Lei n.º 37/2014</b>,
          os atos praticados por um cidadão junto da Administração Pública presumem-se ser da sua autoria,
          dispensando-se a sua assinatura,
          sempre que sejam utilizados meios de autenticação segura para o efeito,
          meios esses, que de acordo com o número 2 do mesmo artigo,
          incluem o uso de certificado digital constante do cartão de cidadão.
          <br><br>
          Por conseguinte, terão os agentes da autoridade a quem endereça a denúncia,
          de acordo com a referida alínea b) do n.º 2 do artigo 4.º da Lei n.º 37/2014,
          de considerar a sua queixa por meios eletrónicos, como legalmente equivalente
          àquela que eventualmente poderia fazer presencialmente.
        </p>
      </div>

      <div id="mail_message" class="section">
        <hr>
        <div class="row">
          <div class="col-xs-12">
            <h3>Mensagem</h3>
            <div id="message" class="mailmessage"></div>
          </div>
        </div>
        <hr>
        <div class="row">
          <div class="col-xs-12">
            <p></p>
            <button class="btn btn-success" id="send_email_btn">Enviar</button>
          </div>
        </div>
      </div>

    </div>
  </div>

  <script type="text/javascript" charset="utf-8" src="cordova.js"></script>

  <script src="js/res/jquery.min.js"></script>
  <script src="js/res/jquery-ui.min.js"></script>
  <script src="js/res/jAlert.min.js"></script>
  <script src="js/res/popper.min.js"></script>
  <script src="js/res/bootstrap.min.js"></script>

  <!-- main.js needs to be the first app module to be loaded -->
  <script src="js/main.js"></script>
  <script src="js/sidebar.js"></script>

  <script src="js/res/car-list.js"></script>
  <script src="js/credentials.js"></script>
  <script src="js/contacts.js"></script>
  <script src="js/penalties.js"></script>

  <script src="js/functions.js"></script>
  <script src="js/historic.js"></script>
  <script src="js/map.js"></script>
  <script src="js/authentication.js"></script>
  <script src="js/photos.js"></script>
  <script src="js/form.js"></script>
  <script src="js/localization.js"></script>
  <script src="js/text.js"></script>

</body>

</html>
